<div class="max-w-7xl mx-auto px-2 py-4 md:px-4">
  <div class="flex flex-col-reverse md:grid-cols-2 md:grid md:gap-4">
    <div class="text-center md:text-left md:my-auto">
      <h1 class="font-bold text-3xl my-4 md:text-6xl md:leading-tight lg:text-7xl lg:leading-tight lg:max-w-lg">
        {{ section.settings.title }}
      </h1>
      <p class="max-w-xl mx-auto md:mr-auto md:ml-0 md:max-w-lg md:text-lg">{{ section.settings.description }}</p>
      {%- if section.settings.button_text != blank -%}
        <button class="px-4 py-2 rounded-md text-my-white bg-my-orange mt-4 md:text-lg md:py-3 md:px-6 md:mt-8">
          {{ section.settings.button_text }}
        </button>
      {%- endif -%}
    </div>
    <div class="relative flex items-center justify-center aspect-square sm:max-w-md sm:m-auto md:max-w-full">
      {%- if section.settings.image != blank -%}
        <div class="absolute aspect-square w-full bg-orange-50 rounded-full"></div>
        <div class="absolute aspect-square w-[85%] bg-orange-100 rounded-full"></div>
        <div class="absolute aspect-square w-[70%] bg-orange-200 rounded-full">
          {%- if section.settings.discount_title != blank and section.settings.discount_description != blank -%}
            <div class="bg-sky-500 rounded-md text-white flex p-2 absolute -top-8 -left-8 gap-2 sm:px-4">
              <span class="text-3xl font-bold">{{ section.settings.discount_title }}</span>
              <span class="text-xs">{{ section.settings.discount_description }}</span>
              <span
                class="inline-flex absolute bottom-0 -left-2 rounded-full aspect-square w-5 bg-my-white drop-shadow-lg after:w-1/2 after:h-1/2 after:aspect-square after:block after:bg-my-orange after:m-auto after:rounded-full"
              ></span>
            </div>
          {%- endif -%}
        </div>

        {{
          section.settings.image
          | image_url: width: 1000
          | image_tag: loading: 'lazy', width: 1000, height: 1000, class: 'relative object-contain w-4/5 md:w-full'
        }}
      {%- endif -%}
    </div>
  </div>
</div>

{% schema %}
{
  "name": "Banner",
  "tag": "section",
  "class": "section",
  "settings": [
    {
      "type": "image_picker",
      "id": "image",
      "label": "Image"
    },
    {
      "type": "html",
      "id": "title",
      "label": "Title"
    },
    {
      "type": "text",
      "id": "description",
      "label": "Description"
    },
    {
      "type": "text",
      "id": "button_text",
      "label": "Button Text"
    },
    {
      "type": "text",
      "id": "discount_title",
      "label": "Discount Title"
    },
    {
      "type": "html",
      "id": "discount_description",
      "label": "Discount Description"
    }
  ],
  "presets": [
    {
      "category": "Image Banner",
      "name": "Image Banner"
    }
  ]
}
{% endschema %}
