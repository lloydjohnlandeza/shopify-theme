<custom-header>
  <div class="mx-auto flex max-w-7xl gap-2 bg-my-white px-2 py-4">
    <button
      id="hamburger-button"
      class="relative z-20 h-11 w-8 self-center bg-white text-my-very-dark-blue focus:outline-none"
    >
      <span class="sr-only">Open main menu</span>
      <div id="hamburger-lines" class="absolute left-1/2 top-1/2 block w-4 -translate-x-1/2 -translate-y-1/2 transform">
        <span
          aria-hidden="true"
          class="absolute block h-0.5 w-4 transform bg-current transition duration-500 ease-in-out -translate-y-1.5"
        ></span>
        <span
          aria-hidden="true"
          class="absolute block h-0.5 w-4 transform bg-current transition duration-500 ease-in-out"
        ></span>
        <span
          aria-hidden="true"
          class="absolute block h-0.5 w-4 transform bg-current transition duration-500 ease-in-out translate-y-1.5"
        ></span>
      </div>
    </button>
    <a href="/" class="font-kumbh-sans text-3xl font-bold text-my-very-dark-blue">sneakers</a>
    <div class="relative mr-4 flex flex-1 justify-end self-center">
      <button class="text-my-dark-grayish-blue hover:text-my-very-dark-blue">
        <svg width="22" height="20" xmlns="http://www.w3.org/2000/svg">
          <path d="M20.925 3.641H3.863L3.61.816A.896.896 0 0 0 2.717 0H.897a.896.896 0 1 0 0 1.792h1l1.031 11.483c.073.828.52 1.726 1.291 2.336C2.83 17.385 4.099 20 6.359 20c1.875 0 3.197-1.87 2.554-3.642h4.905c-.642 1.77.677 3.642 2.555 3.642a2.72 2.72 0 0 0 2.717-2.717 2.72 2.72 0 0 0-2.717-2.717H6.365c-.681 0-1.274-.41-1.53-1.009l14.321-.842a.896.896 0 0 0 .817-.677l1.821-7.283a.897.897 0 0 0-.87-1.114ZM6.358 18.208a.926.926 0 0 1 0-1.85.926.926 0 0 1 0 1.85Zm10.015 0a.926.926 0 0 1 0-1.85.926.926 0 0 1 0 1.85Zm2.021-7.243-13.8.81-.57-6.341h15.753l-1.383 5.53Z" fill="#69707D" fill-rule="nonzero"/>
        </svg>
      </button>
      <div class="pointer-events-none absolute right-[-10px] top-[-10px] inline-flex rounded-full bg-my-orange px-2">
        <span class="select-none text-xs text-my-white">3</span>
      </div>
      <div class="fixed left-0 right-0 top-24 z-30 mx-auto max-w-[360px] rounded-md bg-my-white py-6  shadow-xl">
        <h4 class="mb-4 border-b border-my-grayish-blue px-4 pb-4 font-bold">Cart</h4>
        <ul class="px-4">
          <li class="grid grid-cols-[auto_1fr_auto] gap-2">
            <img
              class="h-14 w-14 rounded-sm object-cover"
              src="{productThumbnail}"
              alt="product thumbnail"
            >
            <div class="text-my-very-dark-blue">
              <h6 class="text-sm">Fall Limited Edition Sneakers</h6>
              <span class="text-sm"> $125.00 x 3 <span class="font-bold">$375.00</span> </span>
            </div>
            <button class="self-center">D</button>
          </li>
        </ul>
        <div class="px-4">
          <button class="mx-auto mt-5 w-full rounded-md bg-my-orange py-4 text-my-white">Checkout</button>
        </div>
      </div>
    </div>
    <div class="h-6 w-6 self-center rounded-full bg-my-grayish-blue">
      <img class="object-contain">
    </div>
  </div>
</custom-header>

<script>
  class Header extends HTMLElement {
    constructor() {
      super();
      const hamburgerButton = this.querySelector('#hamburger-button');
      hamburgerButton.addEventListener('click', this.toggle.bind(this));
      this.isOpen = false;
    }

    toggle() {
      let elements = this.querySelector('#hamburger-lines').querySelectorAll('span');
      this.isOpen = !this.isOpen;
      elements = [...elements];
      if (this.isOpen) {
        elements[0].classList.add('rotate-45');
        elements[1].classList.add('opacity-0');
        elements[2].classList.add('-rotate-45');
        elements[0].classList.remove('-translate-y-1.5');
        elements[2].classList.remove('translate-y-1.5');
      } else {
        elements[0].classList.remove('rotate-45');
        elements[1].classList.remove('opacity-0');
        elements[2].classList.remove('-rotate-45');
        elements[0].classList.add('-translate-y-1.5');
        elements[2].classList.add('translate-y-1.5');
      }
    }
  }

  // Define the new element
  customElements.define('custom-header', Header);
</script>
